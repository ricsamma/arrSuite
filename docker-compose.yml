services:
  sonarr:
    image: lscr.io/linuxserver/sonarr:latest
    container_name: sonarr-samma
    depends_on:
      - prowlarr
    environment:
      - PUID=1000
      - PGID=10
      - TZ=America/Santiago
    volumes:
      - /volume1/docker/sonarr/config:/config:rw
      - /volume1/media/downloads:/data/downloads:rw
      - /volume1/media/series:/data/media/series:rw
    ports:
      - "8989:8989"
    restart: unless-stopped
    networks:
      arr-network:
        ipv4_address: 10.10.0.10

  radarr:
    image: lscr.io/linuxserver/radarr:latest
    container_name: radarr-samma
    depends_on:
      - prowlarr
    environment:
      - PUID=1000
      - PGID=10
      - TZ=America/Santiago
    volumes:
      - /volume1/docker/radarr/config:/config:rw
      - /volume1/media/downloads:/data/downloads:rw
      - /volume1/media/movies:/data/media/movies:rw
    ports:
      - "7878:7878"
    restart: unless-stopped
    networks:
      arr-network:
        ipv4_address: 10.10.0.11

  prowlarr:
    image: lscr.io/linuxserver/prowlarr:latest
    container_name: prowlarr-samma
    environment:
      - PUID=1000
      - PGID=10
      - TZ=America/Santiago
    volumes:
      - /volume1/docker/prowlarr/config:/config:rw
    ports:
      - "9696:9696"
    restart: unless-stopped
    networks:
      arr-network:
        ipv4_address: 10.10.0.12

  qbittorrent:
    image: lscr.io/linuxserver/qbittorrent:latest
    container_name: qbittorrent-samma
    environment:
      - PUID=1000
      - PGID=10
      - TZ=America/Santiago
      - WEBUI_PORT=9865
    volumes:
      - /volume1/docker/qbittorrent/config:/config:rw
      - /volume1/media/downloads:/data/downloads:rw
    ports:
      - "9865:9865"
      - "6881:6881"
      - "6881:6881/udp"
    restart: unless-stopped
    networks:
      arr-network:
        ipv4_address: 10.10.0.13

  lidarr:
    image: lscr.io/linuxserver/lidarr:latest
    container_name: lidarr-samma
    depends_on:
      - prowlarr
    environment:
      - PUID=1000
      - PGID=10
      - TZ=America/Santiago
    volumes:
      - /volume1/docker/lidarr/config:/config:rw
      - /volume1/media/downloads:/data/downloads:rw
      - /volume1/media/audio/musica:/data/media/music:rw
    ports:
      - "8686:8686"
    restart: unless-stopped
    networks:
      arr-network:
        ipv4_address: 10.10.0.14

  jellyfin:
    image: lscr.io/linuxserver/jellyfin:latest
    container_name: jellyfin-samma
    environment:
      - PUID=1000
      - PGID=10
      - TZ=America/Santiago
    volumes:
      - /volume1/docker/jellyfin/config:/config:rw
      - /volume1/docker/jellyfin/cache:/cache:rw
      - /volume1/media/movies:/data/media/movies:ro
      - /volume1/media/series:/data/media/series:ro
      - /volume1/media/audio/musica:/data/media/music:ro
    ports:
      - "8096:8096"
      - "8920:8920"
    restart: unless-stopped
    networks:
      arr-network:
        ipv4_address: 10.10.0.15

  jellyseerr:
    image: fallenbagel/jellyseerr:latest
    container_name: jellyseerr-samma
    depends_on:
      - jellyfin
      - sonarr
      - radarr
    environment:
      - PUID=1000
      - PGID=10
      - TZ=America/Santiago
    volumes:
      - /volume1/docker/jellyseerr/config:/app/config:rw
    ports:
      - "5055:5055"
    restart: unless-stopped
    networks:
      arr-network:
        ipv4_address: 10.10.0.16

  nzbget:
    image: lscr.io/linuxserver/nzbget:latest
    container_name: nzbget-samma
    environment:
      - PUID=1000
      - PGID=10
      - TZ=America/Santiago
    volumes:
      - /volume1/docker/nzbget/config:/config:rw
      - /volume1/media/downloads:/data/downloads:rw
      - ./scripts/nzbget-apply-secrets.sh:/usr/local/bin/nzbget-apply-secrets.sh:ro
      - /volume1/docker/secrets/nzbget.env:/run/secrets/nzbget.env:ro
    ports:
      - "6789:6789"
    entrypoint:
      - /bin/sh
      - /usr/local/bin/nzbget-apply-secrets.sh
    restart: unless-stopped
    networks:
      arr-network:
        ipv4_address: 10.10.0.17

  soulseek:
    image: slskd/slskd:latest
    container_name: soulseek-samma
    environment:
      - PUID=1000
      - PGID=10
      - TZ=America/Santiago
    volumes:
      - /volume1/docker/soulseek/config:/app:rw
      - /volume1/media/downloads:/data/downloads:rw
      - /volume1/media/audio/musica:/data/media/music:rw
    ports:
      - "5030:5030"
      - "50300:50300"
      - "50300:50300/udp"
    restart: unless-stopped
    networks:
      arr-network:
        ipv4_address: 10.10.0.18

  soularr:
    image: mrusse08/soularr:latest
    container_name: soularr-samma
    hostname: soularr-samma
    user: 1000:10
    environment:
      - TZ=America/Santiago
      - SCRIPT_INTERVAL=300
    volumes:
      - /volume1/media/downloads:/downloads
      - /volume1/docker/soularr/config:/data
    restart: unless-stopped
    networks:
      arr-network:
        ipv4_address: 10.10.0.19

  amule:
    image: ngosang/amule:latest
    container_name: amule-samma
    environment:
      - PUID=1000
      - PGID=10
      - TZ=America/Santiago
      - WEBUI_PORT=4711
    volumes:
      - /volume1/docker/amule/config:/config:rw
      - /volume1/media/downloads:/downloads:rw
    ports:
      - "4711:4711"
      - "4662:4662"
      - "4672:4672/udp"
    restart: unless-stopped
    networks:
      arr-network:
        ipv4_address: 10.10.0.20

networks:
  arr-network:
    driver: bridge
    ipam:
      config:
        - subnet: 10.10.0.0/24
          gateway: 10.10.0.1
